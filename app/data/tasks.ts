import type { Person } from "./projects";

export type TaskStatus = "Done" | "In Progress" | "To Do" | "Review";
export type TaskType = "milestone" | "phase" | "task";

export interface TaskNode {
  id: string;
  title: string;
  type: TaskType;
  status: TaskStatus;
  assignees: Person[];
  startDate: string;
  endDate: string;
  plannedHours: number;
  actualHours: number;
  children?: TaskNode[];
}

export const TASK_STATUS_STYLES: Record<TaskStatus, string> = {
  Done: "bg-emerald-50 text-emerald-700",
  "In Progress": "bg-blue-50 text-blue-700",
  "To Do": "bg-zinc-100 text-zinc-500",
  Review: "bg-amber-50 text-amber-700",
};

/** Mock task trees keyed by project id */
export const PROJECT_TASKS: Record<number, TaskNode[]> = {
  1: [
    {
      id: "WEB-1",
      title: "CRM for Sales Department",
      type: "milestone",
      status: "In Progress",
      assignees: [
        { name: "Maria Kuznetsova", initials: "MK" },
        { name: "Sergey Lebedev", initials: "SL" },
      ],
      startDate: "Jan 10",
      endDate: "Feb 28",
      plannedHours: 320,
      actualHours: 198,
      children: [
        {
          id: "WEB-2",
          title: "Analysis",
          type: "phase",
          status: "Done",
          assignees: [{ name: "Sergey Lebedev", initials: "SL" }],
          startDate: "Jan 10",
          endDate: "Jan 24",
          plannedHours: 60,
          actualHours: 54,
          children: [
            {
              id: "WEB-3",
              title: "Gather business requirements",
              type: "task",
              status: "Done",
              assignees: [{ name: "Sergey Lebedev", initials: "SL" }],
              startDate: "Jan 10",
              endDate: "Jan 15",
              plannedHours: 20,
              actualHours: 18,
            },
            {
              id: "WEB-4",
              title: "Stakeholder interviews",
              type: "task",
              status: "Done",
              assignees: [
                { name: "Sergey Lebedev", initials: "SL" },
                { name: "Maria Kuznetsova", initials: "MK" },
              ],
              startDate: "Jan 15",
              endDate: "Jan 20",
              plannedHours: 24,
              actualHours: 22,
            },
            {
              id: "WEB-5",
              title: "Prepare technical specification",
              type: "task",
              status: "Done",
              assignees: [{ name: "Sergey Lebedev", initials: "SL" }],
              startDate: "Jan 20",
              endDate: "Jan 24",
              plannedHours: 16,
              actualHours: 14,
            },
          ],
        },
        {
          id: "WEB-6",
          title: "Development",
          type: "phase",
          status: "In Progress",
          assignees: [
            { name: "Maria Kuznetsova", initials: "MK" },
            { name: "Anna Rybakova", initials: "AR" },
          ],
          startDate: "Jan 25",
          endDate: "Feb 20",
          plannedHours: 180,
          actualHours: 120,
          children: [
            {
              id: "WEB-7",
              title: "Design system components",
              type: "task",
              status: "Done",
              assignees: [{ name: "Anna Rybakova", initials: "AR" }],
              startDate: "Jan 25",
              endDate: "Feb 02",
              plannedHours: 40,
              actualHours: 36,
            },
            {
              id: "WEB-8",
              title: "Implement contacts module",
              type: "task",
              status: "In Progress",
              assignees: [{ name: "Maria Kuznetsova", initials: "MK" }],
              startDate: "Feb 03",
              endDate: "Feb 12",
              plannedHours: 48,
              actualHours: 38,
            },
            {
              id: "WEB-9",
              title: "Implement deals pipeline",
              type: "task",
              status: "In Progress",
              assignees: [
                { name: "Maria Kuznetsova", initials: "MK" },
                { name: "Anna Rybakova", initials: "AR" },
              ],
              startDate: "Feb 10",
              endDate: "Feb 18",
              plannedHours: 56,
              actualHours: 32,
            },
            {
              id: "WEB-10",
              title: "Dashboard & reports",
              type: "task",
              status: "To Do",
              assignees: [{ name: "Anna Rybakova", initials: "AR" }],
              startDate: "Feb 18",
              endDate: "Feb 20",
              plannedHours: 36,
              actualHours: 0,
            },
          ],
        },
        {
          id: "WEB-11",
          title: "Testing",
          type: "phase",
          status: "To Do",
          assignees: [{ name: "Dmitry Romanov", initials: "DR" }],
          startDate: "Feb 21",
          endDate: "Feb 28",
          plannedHours: 80,
          actualHours: 0,
          children: [
            {
              id: "WEB-12",
              title: "Write integration tests",
              type: "task",
              status: "To Do",
              assignees: [{ name: "Dmitry Romanov", initials: "DR" }],
              startDate: "Feb 21",
              endDate: "Feb 25",
              plannedHours: 40,
              actualHours: 0,
            },
            {
              id: "WEB-13",
              title: "UAT & bug fixes",
              type: "task",
              status: "To Do",
              assignees: [
                { name: "Dmitry Romanov", initials: "DR" },
                { name: "Maria Kuznetsova", initials: "MK" },
              ],
              startDate: "Feb 25",
              endDate: "Feb 28",
              plannedHours: 40,
              actualHours: 0,
            },
          ],
        },
      ],
    },
    {
      id: "WEB-20",
      title: "Landing Page Rebuild",
      type: "milestone",
      status: "In Progress",
      assignees: [
        { name: "Anna Rybakova", initials: "AR" },
        { name: "Nikita Kozlov", initials: "NK" },
      ],
      startDate: "Feb 01",
      endDate: "Mar 15",
      plannedHours: 200,
      actualHours: 64,
      children: [
        {
          id: "WEB-21",
          title: "Design & Prototyping",
          type: "phase",
          status: "Done",
          assignees: [{ name: "Anna Rybakova", initials: "AR" }],
          startDate: "Feb 01",
          endDate: "Feb 10",
          plannedHours: 48,
          actualHours: 44,
          children: [
            {
              id: "WEB-22",
              title: "Create wireframes",
              type: "task",
              status: "Done",
              assignees: [{ name: "Anna Rybakova", initials: "AR" }],
              startDate: "Feb 01",
              endDate: "Feb 05",
              plannedHours: 24,
              actualHours: 20,
            },
            {
              id: "WEB-23",
              title: "High-fidelity mockups",
              type: "task",
              status: "Done",
              assignees: [{ name: "Anna Rybakova", initials: "AR" }],
              startDate: "Feb 05",
              endDate: "Feb 10",
              plannedHours: 24,
              actualHours: 24,
            },
          ],
        },
        {
          id: "WEB-24",
          title: "Frontend Implementation",
          type: "phase",
          status: "In Progress",
          assignees: [{ name: "Nikita Kozlov", initials: "NK" }],
          startDate: "Feb 10",
          endDate: "Mar 05",
          plannedHours: 112,
          actualHours: 20,
          children: [
            {
              id: "WEB-25",
              title: "Setup Next.js project & CI",
              type: "task",
              status: "Done",
              assignees: [{ name: "Nikita Kozlov", initials: "NK" }],
              startDate: "Feb 10",
              endDate: "Feb 12",
              plannedHours: 12,
              actualHours: 10,
            },
            {
              id: "WEB-26",
              title: "Implement hero & navigation",
              type: "task",
              status: "In Progress",
              assignees: [{ name: "Nikita Kozlov", initials: "NK" }],
              startDate: "Feb 12",
              endDate: "Feb 18",
              plannedHours: 32,
              actualHours: 10,
            },
            {
              id: "WEB-27",
              title: "Build feature sections",
              type: "task",
              status: "To Do",
              assignees: [{ name: "Nikita Kozlov", initials: "NK" }],
              startDate: "Feb 18",
              endDate: "Feb 28",
              plannedHours: 40,
              actualHours: 0,
            },
            {
              id: "WEB-28",
              title: "Responsive & performance pass",
              type: "task",
              status: "To Do",
              assignees: [{ name: "Nikita Kozlov", initials: "NK" }],
              startDate: "Feb 28",
              endDate: "Mar 05",
              plannedHours: 28,
              actualHours: 0,
            },
          ],
        },
        {
          id: "WEB-29",
          title: "QA & Launch",
          type: "phase",
          status: "To Do",
          assignees: [
            { name: "Anna Rybakova", initials: "AR" },
            { name: "Nikita Kozlov", initials: "NK" },
          ],
          startDate: "Mar 05",
          endDate: "Mar 15",
          plannedHours: 40,
          actualHours: 0,
          children: [
            {
              id: "WEB-30",
              title: "Cross-browser testing",
              type: "task",
              status: "To Do",
              assignees: [{ name: "Nikita Kozlov", initials: "NK" }],
              startDate: "Mar 05",
              endDate: "Mar 10",
              plannedHours: 20,
              actualHours: 0,
            },
            {
              id: "WEB-31",
              title: "Deploy to production",
              type: "task",
              status: "To Do",
              assignees: [
                { name: "Anna Rybakova", initials: "AR" },
                { name: "Nikita Kozlov", initials: "NK" },
              ],
              startDate: "Mar 10",
              endDate: "Mar 15",
              plannedHours: 20,
              actualHours: 0,
            },
          ],
        },
      ],
    },
  ],
};
